<!-- component -->

<div class="flex h-full max-h-full transition-all duration-150" x-data="{ sidebarChatDetail: true }">
   <div class="p:2 w-full justify-between flex bg-white flex-col ">
      <header class=" relative flex sm:items-center justify-between px-4 py-6 border-b border-gray-200" x-data="{ chatSearch: false }">
         <div class="absolute top-full w-full flex  px-4 py-3 opacity-1 space-x-1 items-center left-0 bg-white border-b border-gray-200 mt-[1px] z-20 "  style="display: none;" x-show="chatSearch" 
         x-transition:enter="transition ease-out duration-50"
         x-transition:enter-start=" opacity-0" 
         x-transition:enter-end=" opacity-1"
         x-transition:leave="transition ease-in duration-50"
         x-transition:leave-start=" opacity-1" 
         x-transition:leave-end=" opacity-0" >
         <div class="relative flex-1">
                  <div class="absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none">
                     <svg aria-hidden="true" class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>
                  </div>
                  <input type="text" id="search-guest" class="bg-gray-100 text-gray-900 text-sm outline-none rounded-full focus:ring-green-500 focus:ring-1 block w-full pr-4 pl-10 py-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-500 " placeholder="Tìm kiếm tin nhắn..." required="">
         </div>
         <button class="h-8 px-2 space-x-2 text-sm text-gray-500 transition-colors hover:bg-gray-200 flex items-center font-medium duration-150  rounded-lg dark:bg-gray-800">
               <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" stroke-width="0" stroke="none" class="w-4 h-3" viewBox="0,0,256,256"><g transform="scale(10.66667,10.66667)"><path d="M22.777,4.983c-0.334,-0.606 -0.986,-0.983 -1.703,-0.983h-18.148c-0.717,0 -1.369,0.377 -1.703,0.983c-0.318,0.578 -0.296,1.257 0.058,1.815l9.074,14.315c0.351,0.556 0.966,0.887 1.645,0.887c0.679,0 1.294,-0.331 1.646,-0.886l9.074,-14.315c0.353,-0.559 0.375,-1.238 0.057,-1.816z"></path></g></svg>
         </button>
         <button class="rotate-180 h-8 px-2 space-x-2 text-sm text-gray-500 transition-colors hover:bg-gray-200 flex items-center font-medium duration-150  rounded-lg dark:bg-gray-800">
               <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" stroke-width="0" stroke="none" class="w-4 h-3" viewBox="0,0,256,256"><g transform="scale(10.66667,10.66667)"><path d="M22.777,4.983c-0.334,-0.606 -0.986,-0.983 -1.703,-0.983h-18.148c-0.717,0 -1.369,0.377 -1.703,0.983c-0.318,0.578 -0.296,1.257 0.058,1.815l9.074,14.315c0.351,0.556 0.966,0.887 1.645,0.887c0.679,0 1.294,-0.331 1.646,-0.886l9.074,-14.315c0.353,-0.559 0.375,-1.238 0.057,-1.816z"></path></g></svg>
         </button>
         </div>
         <div class="relative flex items-center space-x-2">
            <div class="relative">
               <span class="absolute text-green-500 right-0 bottom-0">
                  <svg width="12" height="12">
                     <circle cx="6" cy="6" r="6" fill="currentColor"></circle>
                  </svg>
               </span>
            <img src="https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=764&h=764&q=100" alt="" class="w-10 sm:w-10 h-10 sm:h-10 rounded-full">
            </div>
            <div class="flex flex-col leading-tight">
               <div class="text-md font-semibold flex items-center">
                  <span class="text-gray-700 mr-3">Jane Doe</span>
               </div>
               <span class="text-sm text-gray-600">Junior Developer</span>
            </div>
         </div>
         <div class="flex items-center space-x-2">
            <button type="button" @click="chatSearch = !chatSearch" type="button" class="inline-flex items-center justify-center rounded-full  h-10 w-10 transition duration-150 ease-in-out text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none">
               <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
               </svg>
            </button>
            <button @click="sidebarChatDetail = !sidebarChatDetail" type="button" class="inline-flex items-center justify-center rounded-full bg-gray-200 h-10 w-10 transition duration-150 ease-in-out text-gray-700 hover:bg-gray-300 focus:outline-none">
               <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0,0,256,256" stroke="currentColor" class="h-6 w-6">
                  <g transform="scale(0.05905,0.05905)"><path d="M587,1652c264,0 478,214 478,478c0,264 -214,478 -478,478c-264,0 -478,-214 -478,-478c0,-264 214,-478 478,-478zM2175,1652c264,0 478,214 478,478c0,264 -214,478 -478,478c-264,0 -478,-214 -478,-478c0,-264 214,-478 478,-478zM3763,1652c264,0 478,214 478,478c0,264 -214,478 -478,478c-264,0 -478,-214 -478,-478c0,-264 214,-478 478,-478z"></path></g>
               </svg>
            </button>
         </div>
      </header>
      <div id="messages" class="flex flex-1  flex-col space-y-4 px-4 py-12 overflow-y-auto scrollbar-thumb-green scrollbar-thumb-rounded scrollbar-track-green-lighter scrollbar-w-2 scrolling-touch">
         {% for item in range(10) %}
         <div class="chat-message">
            <div class="flex items-end justify-end">
               <div class="flex flex-col space-y-2 text-base max-w-xs mx-2 order-1 items-end">
                  <div><span class="px-4 py-2 rounded-xl inline-block bg-green-600 text-white ">Are you using sudo?</span></div>
                  <div><span class="px-4 py-2 rounded-xl inline-block rounded-br-none bg-green-600 text-white ">Run this command sudo chown -R `whoami` /Users/{{your_user_profile}}/.npm-global/ then install the package globally without using sudo</span></div>
               </div>
               <img src="{{ current_user.photo_picture }}" alt="My profile" class="w-6 h-6 rounded-full order-2">
            </div>
         </div>
         <div class="chat-message">
            <div class="flex items-end">
               <div class="flex flex-col space-y-2 text-base max-w-xs mx-2 order-2 items-start">
                  <div><span class="px-4 py-2 rounded-xl inline-block bg-gray-200 text-gray-600">It seems like you are from Mac OS world. There is no /Users/ folder on linux ?</span></div>
                  <div><span class="px-4 py-2 rounded-xl inline-block rounded-bl-none bg-gray-200 text-gray-600">I have no issue with any other packages installed with root permission globally.</span></div>
               </div>
               <img src="https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=764&h=764&q=100" alt="My profile" class="w-6 h-6 rounded-full order-1">
            </div>
         </div>
         <div class="chat-message">
            <div class="flex items-end justify-end">
               <div class="flex flex-col space-y-2 text-base max-w-xs mx-2 order-1 items-end">
                  <div><span class="px-4 py-2 rounded-xl inline-block rounded-br-none bg-green-600 text-white ">yes, I have a mac. I never had issues with root permission as well, but this helped me to solve the problem</span></div>
               </div>
               <img src="{{ current_user.photo_picture }}" alt="My profile" class="w-6 h-6 rounded-full order-2">
            </div>
         </div>
         <div class="chat-message">
            <div class="flex items-end">
               <div class="flex flex-col space-y-2 text-base max-w-xs mx-2 order-2 items-start">
                  <div><span class="px-4 py-2 rounded-xl inline-block bg-gray-200 text-gray-600">I get the same error on Arch Linux (also with sudo)</span></div>
                  <div><span class="px-4 py-2 rounded-xl inline-block bg-gray-200 text-gray-600">I also have this issue, Here is what I was doing until now: #1076</span></div>
                  <div><span class="px-4 py-2 rounded-xl inline-block rounded-bl-none bg-gray-200 text-gray-600">even i am facing</span></div>
                  <div class="attachment border border-gray-200 aspect-square w-44 h-44 overflow-hidden rounded-lg">
                     <img src="https://cache.giaohangtietkiem.vn/d/14707a16f6e652e78789207c104e41b5.jpg" alt="" class="w-full h-full object-cover">
                  </div>
               </div>
               <img src="https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=764&h=764&q=100" alt="My profile" class="w-6 h-6 rounded-full order-1">
            </div>
         </div>
         <div class="chat-message">
            <div class="flex items-end justify-end">
               <div class="flex flex-col space-y-2 text-base max-w-xs mx-2 order-1 items-end">
                  <span class="px-4 py-2 rounded-xl inline-block rounded-br-none bg-green-600 text-white ">
                     Are you using sudo?
                  </span>
                  <div >
                     <div class="flex items-center justify-between p-4 rounded-xl rounded-br-none bg-green-100 space-x-14 text-white ">
                        <div class="flex space-x-3">
                           <div class="bg-gradient-to-r from-green-500 to-green-600  px-4 py-6 rounded-lg text-white flex items-center justify-center font-semibold">
                              PSD
                           </div>
                           <div class="flex flex-col space-y-1 justify-center">
                              <span class="text-green-700 font-medium">Thiet-ke-moi.psd</span>
                              <span class="text-green-700 text-sm">
                                 435.82kb
                              </span>
                           </div>
                        </div> 
                        <button type="button" class="rounded-lg bg-white text-green-700 hover:bg-green-700 duration-150 focus:ring-2 focus:ring-green-300 hover:text-white w-8 h-8 flex items-center justify-center">
                           <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" stroke-width="0"  stroke="currentColor" class="w-6 h-6" viewBox="0,0,256,256"><g transform="scale(10.66667,10.66667)"><path d="M11,2c-0.552,0 -1,0.448 -1,1v8h-3.5c-0.27614,0 -0.5,0.22386 -0.5,0.5c0.00002,0.1326 0.05271,0.25976 0.14648,0.35352c0.00999,0.01021 0.02042,0.01998 0.03125,0.0293l5.10547,4.81445l0.0332,0.03125c0.1851,0.17405 0.42951,0.27112 0.68359,0.27148c0.25408,-0.00036 0.49849,-0.09743 0.68359,-0.27148l0.01367,-0.01172c0.00328,-0.00388 0.00654,-0.00779 0.00976,-0.01172l5.10352,-4.8125c0.01013,-0.00872 0.0199,-0.01784 0.0293,-0.02734l0.00781,-0.00586c0.00197,-0.00194 0.00392,-0.00389 0.00586,-0.00586c0.09377,-0.09375 0.14646,-0.22092 0.14648,-0.35352c0,-0.27614 -0.22386,-0.5 -0.5,-0.5h-3.5v-8c0,-0.552 -0.448,-1 -1,-1h-1zM3,20c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h18c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587z"></path></g></svg>
                        </button>
                     </div>
                  </div>
               </div>
               <img src="{{ current_user.photo_picture }}" alt="My profile" class="w-6 h-6 rounded-full order-2">
            </div>
         </div>
         <div class="chat-message">
            <div class="flex items-end">
               <div class="flex flex-col space-y-2 text-base max-w-xs mx-2 order-2 items-start">
                  <div><span class="px-4 py-2 rounded-xl inline-block bg-gray-200 text-gray-600">Audio template message test</span></div>
                  <div class="relative overflow-hidden p-2 rounded-xl bg-gray-200 text-gray-600  w-48 ">
                     <span class="absolute w-3/5 bg-gray-300 inset-0"></span>
                     <div class="relative z-10 flex items-center justify-between">
                        <button type="button" class="rounded-lg bg-white duration-150 focus:ring-2 ring-gray-500 hover:bg-gray-500 hover:text-white w-8 h-8 flex items-center justify-center">
                           <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" stroke-width="0" stroke="currentColor" class="w-4 h-4" viewBox="0,0,256,256"><g transform="scale(5.33333,5.33333)"><path d="M11.39648,4.11133c-2.29228,0.09069 -4.39648,1.96085 -4.39648,4.48047v30.81641c0,3.35949 3.74276,5.56369 6.68164,3.93555l27.80859,-15.4082c3.02344,-1.67529 3.02344,-6.19581 0,-7.87109l-27.80859,-15.4082c-0.73472,-0.40704 -1.52106,-0.57515 -2.28516,-0.54492z"></path></g></svg>
                        </button>
                        <span class="rounded-lg font-medium p-2 bg-white duration-150 focus:ring-2 ring-gray-300 text-sm h-8 flex items-center justify-center">
                           0:02
                        </span>
                     </div>
                  </div>
               </div>
               <img src="https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=764&h=764&q=100" alt="My profile" class="w-6 h-6 rounded-full order-1">
            </div>
         </div>
         {% endfor %}
      </div>
      {% include 'component/chatinput.html'   %}
   </div>
   <div  class="w-80 duration-150 visible opacity-100"  :class="{ '-mr-80 opacity-0 invisible': !sidebarChatDetail }">
      {% include 'component/chatdetailpanel.html'   %}
   </div>
</div>

 
<script>
     const el = document.getElementById('messages')
     el.scrollTop = el.scrollHeight
</script>